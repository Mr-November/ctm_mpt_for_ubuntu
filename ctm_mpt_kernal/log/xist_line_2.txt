smp = 40;
R0 = rot([1;0;0], 50/180*pi);
[x, y, z] = path_line([-0.2; -0.2; 2.5], R0, [0.4; 0.4; 0], smp);
rs = [x; y; z];
qs = nan(4, smp);
for smp_idx = 1: smp
    Rc = expm(up_hat([1;0;0]) * (-(z(smp_idx)-2.5)./max(z-2.5).*15 + 10)/180*pi);
    qs(:, smp_idx) = rot2q(R0 * Rc);
end



cost = 118.0394



-0.783869296723138,-0.300782504733637,1.30009366041955,0.365730350383387,0.535707145342689,-0.0949623355218361
-0.759108131213935,-0.290204655765835,1.22160978250681,0.349933127100788,0.551334774570221,-0.0845552449460357
-0.7302145912971,-0.279301014571803,1.13648078683104,0.333144806753217,0.569536693177443,-0.0738973316336132
-0.696562918843668,-0.267936085853845,1.04338710472662,0.315106596988178,0.591001464793602,-0.0628367537455538
-0.657233232109823,-0.255925073765392,0.940416954460624,0.295455212651523,0.616715759498972,-0.0511659863587197
-0.610796077671488,-0.242997587152512,0.824632125326291,0.273646921027551,0.648182768563051,-0.038580349932635
-0.554821846853412,-0.228714736017541,0.691078272432806,0.248783841289325,0.687920503719958,-0.0245829449069812
-0.48470813717813,-0.212279484382445,0.530420219955045,0.219214393356665,0.740652037165693,-0.00826433374486556
-0.493388741747878,-0.180080888883436,0.547631281328183,0.187013088236032,0.731342278003921,-0.00827032532034342
-0.502065107696609,-0.146832785912809,0.565192520516693,0.153359600733795,0.72241451755519,-0.00779974712337894
-0.5089881120821,-0.11297001073004,0.579204001561224,0.118523347540751,0.715276422592197,-0.00664298319567762
-0.514031580014105,-0.0786219192157703,0.58941048529794,0.0827527463067225,0.710068047255947,-0.00494553672611626
-0.517248798389214,-0.0439420954337883,0.595920814688566,0.0463449769798434,0.706742019112149,-0.00287833850178844
-0.518614194804795,-0.00907764835016397,0.598683405501542,0.00958289594773071,0.705329650065126,-0.000605281336224592
-0.518161826829362,0.0258251570664456,0.597768087323445,-0.0272526862999702,0.705797448632666,0.0017104309039793
-0.515908467747672,0.060618522068811,0.59320828269403,-0.0638783529367087,0.708128059432884,0.003904372730858
-0.511789573707184,0.0951548677699544,0.584873112194674,-0.100010188869723,0.712384055640782,0.00581157041425617
-0.505918986724246,0.129296372293604,0.57299268778145,-0.135384236252753,0.718442513022892,0.00727862290809499
-0.498165696564805,0.162884114222982,0.557300567456124,-0.169691759606004,0.726429347078316,0.00812876941471123
-0.488591603350328,0.195779597909807,0.537921855748042,-0.202664357001443,0.736269310970003,0.00820729585277443
-0.520597676963008,0.220518098275123,0.611871032865963,-0.23416383277205,0.713238197767848,0.016479642136173
-0.583101990983219,0.235779127601779,0.757853487396492,-0.261180717131694,0.667585224148753,0.0315226988962114
-0.634093091305729,0.249339137080036,0.882053822968859,-0.284428762785481,0.632235486226314,0.0447604408966483
-0.676894795584477,0.261785442136227,0.991229385314443,-0.30511801523516,0.603763417297152,0.0568603654524564
-0.713358986421211,0.273459036257469,1.0891693977003,-0.323940791731696,0.580237615312159,0.0682075452212229
-0.744633511044966,0.28458311161938,1.17824484989275,-0.341341385172459,0.560440301799241,0.0790530446489255
-0.771478571933224,0.295315655558927,1.26004599242615,-0.357626355757112,0.543546635067494,0.089574083926503
-0.788441819400114,0.278408720751346,1.30938848276123,-0.338895974609823,0.530336934840278,0.0885544721303359
-0.796849305941597,0.231234977026592,1.32646093648052,-0.282032759239308,0.520442621385399,0.0745456349155433
-0.803712844201513,0.18340587533186,1.34038073402321,-0.224054014388073,0.512346197483676,0.0597669052800772
-0.809112254264381,0.135052374482211,1.3512881217728,-0.165176886256237,0.50601490323147,0.0443836578824326
-0.812680875425948,0.0863084819726975,1.35854454875611,-0.105654148098643,0.501741879323415,0.0285164984486252
-0.814740242279435,0.0373153345204869,1.36271168944721,-0.0457006867603094,0.499302581634939,0.0123677196487139
-0.815208056205488,-0.0117883194045055,1.36364559623488,0.0144430978984756,0.498767785768616,-0.00391100280282104
-0.81395483177295,-0.0608543517416666,1.36112250631516,0.0745158158909495,0.500233022222649,-0.0201454298463894
-0.81123353562826,-0.109747920063519,1.35558026226321,0.1342921285406,0.503508768072122,-0.0361875010755892
-0.806783536621756,-0.158318859203587,1.3465703826836,0.193529385420141,0.508770821788608,-0.0518433693438946
-0.800613312776036,-0.206437508369531,1.33409660339517,0.25200903272616,0.516004602958143,-0.0669472903270141
-0.793004079969154,-0.253967982164464,1.31865562450914,0.309479821038491,0.524971075637932,-0.0813750809530054
-0.783869296723138,-0.300782504733637,1.30009366041955,0.365730350383387,0.535707145342689,-0.0949623355218361






0,2.34083182354011,4.78785776462602,7.37087197700675,10.1324520603922,13.1373474410148,16.4938966419385,20.4052327154071,21.8546787596621,23.3513692389485,25.3838498394423,27.4454596540526,29.5269804002107,31.6195824377562,33.7144867841716,35.8028223978809,37.8757314335596,39.9249416722792,41.9409144777388,43.9153371904806,48.5994191692688,57.8894547097289,66.024790265363,73.3901983840539,80.2027829944509,86.5995993867564,92.6736277643236,96.1547946344668,101.356444238603,106.630357399877,115.337046551528,124.114030899393,132.935896905616,141.777661067937,150.612650964384,159.416586427446,168.162428227221,176.826829218329,185.38532143278,193.814897133206

